{"version":3,"file":"js/91.dd317f0b.js","mappings":"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","sources":["webpack://vue1/./src/views/LoginUser.vue","webpack://vue1/./src/views/LoginUser.vue?f564"],"sourcesContent":["<template>\r\n    <div class=\"login__wrapper\" :style=\"{ height: height + 'px'}\">\r\n        <h1>Login</h1>\r\n        <form action=\"#\" method=\"post\" @submit.prevent=\"loginUser\">\r\n            <div class=\"input__wrapper\">\r\n                <span>{{ getError }}</span>\r\n                <span class=\"valueErr\">{{ textErr }}</span>\r\n                <input \r\n                    type=\"text\" \r\n                    name=\"mail\" \r\n                    v-model=\"mail\" \r\n                    placeholder=\"E-mail\" \r\n                    @blur=\"validation\"\r\n                >\r\n            </div>\r\n            <div class=\"input__wrapper\">\r\n                <span class=\"valueErr\">{{ textErr }}</span>\r\n                <input \r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    v-model=\"password\" \r\n                    placeholder=\"Password\" \r\n                    @blur=\"validation\"\r\n                >\r\n            </div>\r\n            <span class=\"userErr\" v-if=\"getError.length > 0\">\r\n                {{ getError }}\r\n            </span>\r\n            <button type=\"submit\" title=\"Submit\" class=\"button btn__style click\">Login</button>\r\n        </form>\r\n        <router-link rel=\"nofollow\" to=\"/register\" class=\"button btn__style click\">\r\n            Register\r\n        </router-link>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            mail: '',\r\n            password: '',\r\n            height: 0,\r\n            textErr: '',\r\n            validationStatusEm: false,\r\n            validationStatusPs: false\r\n        }\r\n    },\r\n    mounted(){\r\n        this.height = document.body.clientHeight - (document.querySelector('.site__header').clientHeight + document.querySelector('footer').clientHeight)\r\n    },\r\n    computed: {\r\n        ...mapGetters('UserModules', ['getToken', 'getStatus', 'getError'])\r\n    },\r\n    methods:{\r\n        ...mapActions('UserModules', ['loginUserr']),\r\n        async loginUser(){\r\n            if(this.validationStatusEm && this.validationStatusPs){\r\n                await this.loginUserr({ mail: this.mail, password: this.password })\r\n                await this.$cookies.set('UserToken', this.getToken, \"30d\")\r\n                this.getStatus ? this.$router.push('/') : null\r\n            }\r\n        },\r\n        validation(e){\r\n            const error = (error) => {\r\n                e.target.parentElement.classList.add('activeValueErr')\r\n                this.textErr = error\r\n                e.target.name === 'mail' ? this.validationStatusEm = false : this.validationStatusPs = false\r\n                e.target.focus()\r\n            }\r\n            const success = () => {\r\n                e.target.parentElement.classList.remove('activeValueErr')\r\n                e.target.name === 'mail' ? this.validationStatusEm = true : this.validationStatusPs = true\r\n            }\r\n            if(e.target.name === 'mail'){\r\n                if(e.target.value.length > 0 && Boolean(e.target.value.match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) !== false) {\r\n                    this.mail = e.target.value\r\n                    success()\r\n                } else {\r\n                    error('Incorrect mail')\r\n                }\r\n                return\r\n            }\r\n            if(e.target.name === 'password'){\r\n                const hasCapital = (s) => !(s === s.toLowerCase())\r\n                if(e.target.value.length >= 8 && e.target.value.length <= 40 && hasCapital(e.target.value) && /[0-9]/.test(e.target.value)){\r\n                    this.password = e.target.value\r\n                    success()\r\n                } else if(e.target.value.length > 1){\r\n                    if(e.target.value.length < 8){\r\n                        error('Min 8 symbols')\r\n                    } else if(e.target.value.length > 40){\r\n                        error('Max 40 symbols')\r\n                    } else if(!/[0-9]/.test(e.target.value)){\r\n                        error('Password must contain a number')\r\n                    } else {\r\n                        error('Password must contain a capital letter')\r\n                    }\r\n                }\r\n                return\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    h1::after{\r\n        content: none;\r\n    }\r\n    .login__wrapper{\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 50px 0;\r\n    }\r\n    .input__wrapper{\r\n        position: relative;\r\n        width: 95%;\r\n        span{\r\n            display: none;\r\n            color: red;\r\n            position: absolute;\r\n            font-size: 18px;\r\n            top: -25px;\r\n            right: 5px;\r\n        }\r\n        &.activeValueErr{\r\n            input[type=\"text\"],\r\n            input[type=\"password\"]{\r\n                border: 4px solid red;\r\n                outline: none;\r\n                color: red;\r\n                background: black;\r\n            }\r\n            .valueErr{\r\n                display: block;\r\n            }\r\n        }\r\n    }\r\n\r\n    form{\r\n        margin: 20px 0;\r\n        display: flex;\r\n        gap: 25px;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        width: 100%;\r\n        max-width: 400px;\r\n    }\r\n    .userErr{\r\n        color: red;\r\n        font-size: 18px;\r\n        animation: errorActive .35s linear both;\r\n    }\r\n\r\n    input[type=\"text\"],\r\n    input[type=\"password\"]{\r\n        height: 50px;\r\n        width: 100%;\r\n        border-radius: 15px;\r\n        background: #63AF8F;\r\n        color: #5F3791;\r\n        font-size: 22px;\r\n        &:focus-visible{\r\n            outline: 4px dotted #5F3791;\r\n        }\r\n        padding: 0 15px;\r\n    }\r\n    .button{\r\n        width: 95%;\r\n    }\r\n\r\n    a{\r\n        max-width: 378px;\r\n    }\r\n\r\n    @keyframes errorActive {\r\n        from{opacity: 0; transform: translateY(35px);}\r\n        to{opacity: 1; transform: translateY(0);}\r\n    }\r\n</style>","import { render } from \"./LoginUser.vue?vue&type=template&id=397620d7&scoped=true\"\nimport script from \"./LoginUser.vue?vue&type=script&lang=js\"\nexport * from \"./LoginUser.vue?vue&type=script&lang=js\"\n\nimport \"./LoginUser.vue?vue&type=style&index=0&id=397620d7&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\beetroot\\\\UMF\\\\vue1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-397620d7\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","type","title","_createElementBlock","style","height","$data","_hoisted_1","action","method","onSubmit","$options","_toDisplayString","_ctx","name","$event","placeholder","onBlur","length","_hoisted_7","_createVNode","_component_router_link","rel","to","data","mail","password","textErr","validationStatusEm","validationStatusPs","mounted","this","document","body","clientHeight","querySelector","computed","mapGetters","methods","mapActions","async","loginUserr","$cookies","set","getToken","getStatus","$router","push","validation","e","error","target","parentElement","classList","add","focus","success","remove","hasCapital","s","toLowerCase","value","test","Boolean","match","__exports__","render"],"sourceRoot":""}