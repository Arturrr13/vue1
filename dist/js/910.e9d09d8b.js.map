{"version":3,"file":"js/910.e9d09d8b.js","mappings":"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","sources":["webpack://vue1/./src/views/RegisterUser.vue","webpack://vue1/./src/views/RegisterUser.vue?50a9"],"sourcesContent":["<template>\r\n    <div class=\"register__wrapper\" :style=\"{ height: height + 'px'}\">\r\n        <h1>Registration</h1>\r\n        <form action=\"#\" method=\"post\" @submit.prevent=\"checkingForm\">\r\n            <div class=\"input__wrapper\" v-for=\"(item, index) in inputData\" :key=\"index\">\r\n                <span />\r\n                <input :type=\"item.type\" :name=\"item.name\" :placeholder=\"item.placeholder\" @blur=\"validation\">\r\n            </div>\r\n            <span v-if=\"userFind !== null\" class=\"userErr\">\r\n                {{ userFind }}\r\n            </span>\r\n            <button type=\"submit\" title=\"Submit\" class=\"button btn__style click\">Continue</button>\r\n        </form>\r\n        <span class=\"login\">\r\n            Have an account?\r\n            <router-link title=\"Login\" rel=\"nofollow\" to=\"/login\">\r\n                Log in now\r\n            </router-link> \r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapActions, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            name: '',\r\n            mail: '',\r\n            password: '',\r\n            passwordCheck: '',\r\n            error: false,\r\n            userFind: null,\r\n            height: 0,\r\n            inputData: [\r\n                {\r\n                    type: 'text',\r\n                    name: 'name',\r\n                    placeholder: 'Name'\r\n                },\r\n                {\r\n                    type: 'text',\r\n                    name: 'mail',\r\n                    placeholder: 'E-mail'\r\n                },\r\n                {\r\n                    type: 'text',\r\n                    name: 'password',\r\n                    placeholder: 'Password'\r\n                },\r\n                {\r\n                    type: 'password',\r\n                    name: 'password-check',\r\n                    placeholder: 'Password again'\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    mounted(){\r\n        this.height = document.querySelector('.site__header').clientHeight + document.querySelector('footer').clientHeight + 660 < document.body.clientHeight ? document.body.clientHeight - (document.querySelector('.site__header').clientHeight + document.querySelector('footer').clientHeight) : 660\r\n    },\r\n    methods:{\r\n        ...mapActions('UserModules', ['postUser']),\r\n        ...mapMutations('UserModules', ['setStatus']),\r\n        validation(e){\r\n            const error = (error) => {\r\n                e.target.parentElement.classList.add('activeErr')\r\n                e.target.parentElement.children[0].innerHTML = error\r\n                this.error = true\r\n                e.target.focus()\r\n            }\r\n            const success = () => {\r\n                e.target.parentElement.classList.remove('activeErr')\r\n                this.error = false\r\n            }\r\n            if(e.target.name === 'name'){\r\n                if(e.target.value.length < 2){\r\n                    error('Incorrect name')\r\n                } else if(e.target.value.length > 0){\r\n                    axios\r\n                    .post('http://localhost:5050/api/users', {\r\n                        name: e.target.value\r\n                    })\r\n                    .then(() => {\r\n                        this.name = e.target.value\r\n                        success()\r\n                    })\r\n                    .catch(err => error(err.response.data.message))\r\n                }\r\n                return\r\n            }\r\n            if(e.target.name === 'mail'){\r\n                if(e.target.value.length > 0 && Boolean(e.target.value.match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) !== false) {\r\n                    axios\r\n                    .post('http://localhost:5050/api/users', {\r\n                        mail: e.target.value\r\n                    })\r\n                    .then(() => {\r\n                        this.mail = e.target.value\r\n                        success()\r\n                    })\r\n                    .catch(err => error(err.response.data.message))\r\n                } else {\r\n                    error('Incorrect mail')\r\n                }\r\n                return\r\n            }\r\n            if(e.target.name === 'password'){\r\n                const hasCapital = (s) => !(s === s.toLowerCase())\r\n                if(e.target.value.length >= 8 && e.target.value.length <= 40 && hasCapital(e.target.value) && /[0-9]/.test(e.target.value)){\r\n                    this.password = e.target.value\r\n                    success()\r\n                } else if(e.target.value.length > 1){\r\n                    if(e.target.value.length < 8){\r\n                        error('Min 8 symbols')\r\n                    } else if(e.target.value.length > 40){\r\n                        error('Max 40 symbols')\r\n                    } else if(!/[0-9]/.test(e.target.value)){\r\n                        error('Password must contain a number')\r\n                    } else {\r\n                        error('Password must contain a capital letter')\r\n                    }\r\n                }\r\n                return\r\n            }\r\n            if(e.target.name === 'password-check'){\r\n                if(e.target.value !== document.querySelector(\"input[name='password']\").value){\r\n                    error('Passwords must match')\r\n                } else {\r\n                    this.passwordCheck = e.target.value\r\n                    success()\r\n                }\r\n            }\r\n        },\r\n        checkingForm(){\r\n            if(!this.error && this.name !== '' && this.mail !== '' && this.password !== '' && this.passwordCheck !== ''){\r\n                axios\r\n                .post('http://localhost:5050/api/users', {\r\n                    name: this.name,\r\n                    mail: this.mail,\r\n                    password: this.password\r\n                })\r\n                .then(res => { \r\n                    this.$cookies.set('UserToken', res.data.token, \"30d\")\r\n                    this.setStatus(true)\r\n                    this.userFind = null\r\n                    this.$router.push('/')\r\n                })\r\n                .catch(err => this.userFind = err.response.data.message)\r\n            } else {\r\n                console.log('bad')\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.register__wrapper{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 50px 0;\r\n}\r\n\r\nh1::after{\r\n    content: none;\r\n}\r\n.input__wrapper{\r\n    width: 95%;\r\n    position: relative;\r\n    span{\r\n        display: none;\r\n    }\r\n}\r\n.userErr{\r\n    color: red;\r\n    font-size: 18px;\r\n    letter-spacing: 1px;\r\n    animation: errorActive .35s linear both;\r\n}\r\n.activeErr{\r\n    span{\r\n        display: block;\r\n        color: red;\r\n        font-size: 16px;\r\n        letter-spacing: 1px;\r\n        position: absolute;\r\n        top: -20px;\r\n        right: 5px;\r\n    }\r\n\r\n    input[type=\"text\"],\r\n    input[type=\"password\"]{\r\n        background: black;\r\n        color: red;\r\n        border: 4px solid red;\r\n        &:focus-visible{\r\n            outline: none;\r\n        }\r\n    }\r\n}\r\n\r\nform{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    max-width: 400px;\r\n    gap: 30px;\r\n    width: 100%;\r\n    margin-top: 25px;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"password\"]{\r\n    height: 50px;\r\n    width: 100%;\r\n    border-radius: 15px;\r\n    background: #63AF8F;\r\n    color: #5F3791;\r\n    font-size: 22px;\r\n    &:focus-visible{\r\n        outline: 4px dotted #5F3791;\r\n    }\r\n    padding: 0 15px;\r\n}\r\n\r\nbutton{\r\n    width: 95%;\r\n    margin-top: 10px;\r\n}\r\n.login{\r\n    margin-top: 20px;\r\n    color: white;\r\n    font-size: 24px;\r\n    a{\r\n        color: #63AF8F;\r\n        font-style: italic;\r\n    }\r\n}\r\n\r\n@keyframes errorActive {\r\n    from{opacity: 0; transform: translateY(35px);}\r\n    to{opacity: 1; transform: translateY(0);}\r\n}\r\n</style>","import { render } from \"./RegisterUser.vue?vue&type=template&id=13eb3c81&scoped=true\"\nimport script from \"./RegisterUser.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterUser.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterUser.vue?vue&type=style&index=0&id=13eb3c81&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\beetroot\\\\UMF\\\\vue1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13eb3c81\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","type","title","_createElementBlock","style","height","$data","_hoisted_1","action","method","onSubmit","$options","_Fragment","_renderList","item","index","key","_hoisted_2","name","placeholder","onBlur","_toDisplayString","_hoisted_5","_createVNode","_component_router_link","rel","to","data","mail","password","passwordCheck","error","userFind","inputData","mounted","this","document","querySelector","clientHeight","body","methods","mapActions","mapMutations","validation","e","target","parentElement","classList","add","children","innerHTML","focus","success","remove","value","hasCapital","s","toLowerCase","length","test","Boolean","match","axios","then","catch","err","response","message","checkingForm","console","log","res","$cookies","set","token","setStatus","$router","push","__exports__","render"],"sourceRoot":""}